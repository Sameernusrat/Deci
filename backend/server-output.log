
> deci-backend@1.0.0 dev
> ts-node-dev --respawn --transpile-only src/server-diagnostic.ts

[INFO] 18:04:03 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 4.9.5)
🚀 Starting diagnostic server - will crash loudly to show real issues
🔍 [2025-07-03T17:04:03.746Z] DIAG: STEP 1: Initializing Express app 
🔍 [2025-07-03T17:04:03.747Z] DIAG: STEP 2: Setting up basic middleware 
🔍 [2025-07-03T17:04:03.748Z] DIAG: STEP 3: Adding helmet 
🔍 [2025-07-03T17:04:03.748Z] DIAG: STEP 4: Adding CORS 
🔍 [2025-07-03T17:04:03.748Z] DIAG: STEP 5: Adding JSON parser 
🔍 [2025-07-03T17:04:03.748Z] DIAG: STEP 6: Adding URL encoder 
🔍 [2025-07-03T17:04:03.748Z] DIAG: STEP 7: Setting up health endpoint 
🔍 [2025-07-03T17:04:03.749Z] DIAG: STEP 8: Setting up chat endpoint 
🔍 [2025-07-03T17:04:03.749Z] DIAG: STEP 9: Setting up 404 handler 
🔍 [2025-07-03T17:04:03.749Z] DIAG: STEP 10: About to start server 
⚠️  CRITICAL: About to call app.listen() - this is another crash point
🔍 [2025-07-03T17:04:03.749Z] DIAG: STEP 11: Setting up server error handler 
🔍 Diagnostic server setup complete - waiting for requests...
✅ SERVER STARTED SUCCESSFULLY
🔍 [2025-07-03T17:04:03.750Z] DIAG: SERVER: Listening on port 3001
🌐 Health: http://localhost:3001/api/health
💬 Chat: curl -X POST http://localhost:3001/api/chat/message -H "Content-Type: application/json" -d '{"message":"test"}'
🔍 [2025-07-03T17:06:19.081Z] DIAG: REQUEST: GET /api/health { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:06:19.083Z] DIAG: HEALTH: Endpoint called 
🔍 [2025-07-03T17:06:19.083Z] DIAG: HEALTH: Creating response object 
🔍 [2025-07-03T17:06:19.084Z] DIAG: HEALTH: Sending response {
  status: 'OK',
  timestamp: '2025-07-03T17:06:19.083Z',
  uptime: 135.62167475,
  memory: {
    rss: 28475392,
    heapTotal: 16842752,
    heapUsed: 9441760,
    external: 2208820,
    arrayBuffers: 18851
  },
  pid: 7478
}
🔍 [2025-07-03T17:06:19.088Z] DIAG: HEALTH: Response sent successfully 
🔍 [2025-07-03T17:06:48.836Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: Request body { message: 'test' }
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: Validating message { message: 'test', type: 'string' }
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:06:48.852Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:06:48.853Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:06:48.853Z] DIAG: CHAT: Escaped question { original: 'test', escaped: 'test' }
🔍 [2025-07-03T17:06:48.853Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:06:48.853Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test'" }
🔍 [2025-07-03T17:06:48.853Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
Error: Command failed: python3 /Users/sameernusrat/deci/rag_bridge.py 'test'
/Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

    at genericNodeError (node:internal/errors:983:15)
    at wrappedFn (node:internal/errors:537:14)
    at ChildProcess.exithandler (node:child_process:415:12)
    at ChildProcess.emit (node:events:507:28)
    at maybeClose (node:internal/child_process:1101:16)
    at Process.ChildProcess._handle.onexit (node:internal/child_process:305:5)
[ERROR] 18:07:18 Error: Command failed: python3 /Users/sameernusrat/deci/rag_bridge.py 'test'
/Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

[INFO] 18:12:48 Restarting: /Users/sameernusrat/deci/backend/src/server-diagnostic.ts has been modified
🚀 Starting diagnostic server - will crash loudly to show real issues
🔍 [2025-07-03T17:12:48.252Z] DIAG: STEP 1: Initializing Express app 
🔍 [2025-07-03T17:12:48.253Z] DIAG: STEP 2: Setting up basic middleware 
🔍 [2025-07-03T17:12:48.254Z] DIAG: STEP 3: Adding helmet 
🔍 [2025-07-03T17:12:48.254Z] DIAG: STEP 4: Adding CORS 
🔍 [2025-07-03T17:12:48.254Z] DIAG: STEP 5: Adding JSON parser 
🔍 [2025-07-03T17:12:48.255Z] DIAG: STEP 6: Adding URL encoder 
🔍 [2025-07-03T17:12:48.255Z] DIAG: STEP 7: Setting up health endpoint 
🔍 [2025-07-03T17:12:48.255Z] DIAG: STEP 8: Setting up chat endpoint 
🔍 [2025-07-03T17:12:48.255Z] DIAG: STEP 9: Setting up 404 handler 
🔍 [2025-07-03T17:12:48.255Z] DIAG: STEP 10: About to start server 
⚠️  CRITICAL: About to call app.listen() - this is another crash point
🔍 [2025-07-03T17:12:48.256Z] DIAG: STEP 11: Setting up server error handler 
🔍 Diagnostic server setup complete - waiting for requests...
✅ SERVER STARTED SUCCESSFULLY
🔍 [2025-07-03T17:12:48.256Z] DIAG: SERVER: Listening on port 3001
🌐 Health: http://localhost:3001/api/health
💬 Chat: curl -X POST http://localhost:3001/api/chat/message -H "Content-Type: application/json" -d '{"message":"test"}'
🔍 [2025-07-03T17:13:34.134Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: Request body { message: 'test' }
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: Validating message { message: 'test', type: 'string' }
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: Escaped question { original: 'test', escaped: 'test' }
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test'" }
🔍 [2025-07-03T17:13:34.142Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:13:57.512Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:13:57.513Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:13:57.513Z] DIAG: CHAT: RAG stdout length 3531
🔍 [2025-07-03T17:13:57.514Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:13:57.514Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:13:57.514Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:13:57.514Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:13:57.514Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:13:57.524Z] DIAG: CHAT: Response sent successfully 
🔍 [2025-07-03T17:13:59.473Z] DIAG: REQUEST: GET /api/health { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:13:59.473Z] DIAG: HEALTH: Endpoint called 
🔍 [2025-07-03T17:13:59.473Z] DIAG: HEALTH: Creating response object 
🔍 [2025-07-03T17:13:59.474Z] DIAG: HEALTH: Sending response {
  status: 'OK',
  timestamp: '2025-07-03T17:13:59.473Z',
  uptime: 71.319263542,
  memory: {
    rss: 22577152,
    heapTotal: 17367040,
    heapUsed: 10638088,
    external: 2212669,
    arrayBuffers: 22700
  },
  pid: 7719
}
🔍 [2025-07-03T17:13:59.475Z] DIAG: HEALTH: Response sent successfully 
🔍 [2025-07-03T17:15:53.386Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: Request body { message: 'test 1' }
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: Validating message { message: 'test 1', type: 'string' }
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: Escaped question { original: 'test 1', escaped: 'test 1' }
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test 1'" }
🔍 [2025-07-03T17:15:53.390Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:16:10.003Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: RAG stdout length 2179
🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:16:10.004Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:16:10.008Z] DIAG: CHAT: Response sent successfully 
🔍 [2025-07-03T17:16:10.168Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: Request body { message: 'test 2' }
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: Validating message { message: 'test 2', type: 'string' }
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: Escaped question { original: 'test 2', escaped: 'test 2' }
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test 2'" }
🔍 [2025-07-03T17:16:10.169Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:16:25.256Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: RAG stdout length 2485
🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:16:25.257Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:16:25.259Z] DIAG: CHAT: Response sent successfully 
🔍 [2025-07-03T17:16:25.426Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:16:25.426Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:16:25.426Z] DIAG: CHAT: Request body { message: 'test 3' }
🔍 [2025-07-03T17:16:25.426Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:16:25.426Z] DIAG: CHAT: Validating message { message: 'test 3', type: 'string' }
🔍 [2025-07-03T17:16:25.426Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: Escaped question { original: 'test 3', escaped: 'test 3' }
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test 3'" }
🔍 [2025-07-03T17:16:25.427Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:16:41.064Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: RAG stdout length 2974
🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:16:41.066Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:16:41.069Z] DIAG: CHAT: Response sent successfully 
🔍 [2025-07-03T17:16:41.097Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: Request body { message: 'test 4' }
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: Validating message { message: 'test 4', type: 'string' }
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: Escaped question { original: 'test 4', escaped: 'test 4' }
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test 4'" }
🔍 [2025-07-03T17:16:41.098Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:17:05.096Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: RAG stdout length 3011
🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:17:05.098Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:17:05.101Z] DIAG: CHAT: Response sent successfully 
🔍 [2025-07-03T17:17:05.131Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:17:05.131Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: Request body { message: 'test 5' }
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: Validating message { message: 'test 5', type: 'string' }
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: Escaped question { original: 'test 5', escaped: 'test 5' }
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test 5'" }
🔍 [2025-07-03T17:17:05.132Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:17:27.981Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: RAG stdout length 2718
🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:17:27.983Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:17:27.985Z] DIAG: CHAT: Response sent successfully 
🔍 [2025-07-03T17:17:28.017Z] DIAG: REQUEST: POST /api/chat/message { body: undefined, ip: '::1' }
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: Endpoint called 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: Request body { message: 'test 6' }
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: Extracting message from body 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: Validating message { message: 'test 6', type: 'string' }
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: About to require child_process 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: About to require util 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: About to promisify exec 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: About to escape question for shell 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: Escaped question { original: 'test 6', escaped: 'test 6' }
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: About to construct RAG command 
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: RAG command constructed { command: "python3 /Users/sameernusrat/deci/rag_bridge.py 'test 6'" }
🔍 [2025-07-03T17:17:28.018Z] DIAG: CHAT: About to execute RAG command 
⚠️  CRITICAL: About to call execAsync - this is where crashes often happen
🔍 [2025-07-03T17:17:55.874Z] DIAG: CHAT: RAG command succeeded 
🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: RAG command completed 
🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: RAG stdout length 3685
🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: RAG stderr /Users/sameernusrat/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: About to parse RAG JSON 
🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: RAG JSON parsed successfully [ 'answer', 'sources', 'metadata', 'rag_available', 'fallback_mode' ]
🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: Creating response object 
🔍 [2025-07-03T17:17:55.875Z] DIAG: CHAT: About to send response 
🔍 [2025-07-03T17:17:55.877Z] DIAG: CHAT: Response sent successfully 
